{"version":3,"sources":["webpack:///./index.js"],"names":["table","document","querySelector","console","log","fetch","then","res","ok","json","Error","response","statusText","data","date","result","sitemap","errors","reduce","acc","arr","path","submitted","check","stat","links","num","checkStatus","markup","lastSubmitted","lastCheck","urls","insertAdjacentHTML","catch","error"],"mappings":"2FAAA,iBAIA,MAAMA,EAAQC,SAASC,cAAc,iBACrCC,QAAQC,IAAIJ,GAkCZK,MAAM,gDACHC,KAAKC,IACJ,GAAIA,EAAIC,GAAI,OAAOD,EAAIE,OACvB,MAAM,IAAIC,MAAM,wBAA0BC,SAASC,cAEpDN,KAAKO,IACJ,MAAMC,EAAOD,EAAKE,OAAOC,QAAQ,GAAGC,OACpCd,QAAQC,IAAIU,GAEZ,MAAMP,EAAMM,EAAKE,OAAOC,QAAQE,OAC9B,CAACC,EAAKC,IACJD,EAlCO,EAACE,EAAMC,EAAWC,EAAOC,EAAMC,KAE5C,MAAQ,wJAOPJ,2CAEKC,iBACAC,sCAnBYG,IACN,IAARA,EACK,UAED,sBAAqBA,kBAIbC,CAAYH,kBAatBC,yJAqBAG,CACER,EAAIC,KACJD,EAAIS,cACJT,EAAIU,UACJV,EAAIH,OACJG,EAAIW,MAER,IAGF/B,EAAMgC,mBAAmB,WAAYzB,KAGtC0B,MAAMC,IACL/B,QAAQC,IAAI8B,M","file":"main.16e2a628f87b6c588a3f.js","sourcesContent":["import \"./sass/style.scss\";\n\n(\"use strict\");\n\nconst table = document.querySelector(\".table-header\");\nconsole.log(table);\n\n// helpers\n\nconst checkStatus = num => {\n  if (num === 0) {\n    return \"Success\";\n  }\n  return `<span class=\"span\">${num} errors</span>`;\n};\n\nconst markup = (path, submitted, check, stat, links) => {\n  const checked = checkStatus(stat);\n  return `\n  <tr class=\"table-row\">\n <td>   <input type=\"checkbox\" name=\"\" value=\"\" /></td>\n  <td><a\n  href=\"#\"\n  target=\"_blank\"\n  class=\"table-link\"\n>${path}</td>\n  <td>Sitemap index</td>\n  <td>${submitted}</td>\n  <td>${check}</td>\n  <td class=\"table-status\">${checked}</td>\n  <td>${links}</td>\n  <td><button type=\"button\" class=\"recrawlBtn\">Recrawl</button></td>\n  <td><button type=\"button\" class=\"deleteBtn\"></button></td>\n</tr>\n  `;\n};\n\n// fetch request\n\nfetch(\"https://semalt.tech/dev/api/v1/example/test/\")\n  .then(res => {\n    if (res.ok) return res.json();\n    throw new Error(\"Error while fetching \" + response.statusText);\n  })\n  .then(data => {\n    const date = data.result.sitemap[0].errors;\n    console.log(date);\n\n    const res = data.result.sitemap.reduce(\n      (acc, arr) =>\n        acc +\n        markup(\n          arr.path,\n          arr.lastSubmitted,\n          arr.lastCheck,\n          arr.errors,\n          arr.urls\n        ),\n      \"\"\n    );\n\n    table.insertAdjacentHTML(\"afterend\", res);\n  })\n\n  .catch(error => {\n    console.log(error);\n  });\n\n//\n"],"sourceRoot":""}